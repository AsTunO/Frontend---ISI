<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>RegistrationForm_v2 by Colorlib</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- MATERIAL DESIGN ICONIC FONT -->
		<link rel="stylesheet" href="../fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
		
		<!-- STYLE CSS -->
		<link rel="stylesheet" href="../css/loginPageStyles/style.css">
        <style>
            .error-message {
                color: red;
                font-size: 10px;
                padding-left: 180px;
            }
        </style>
	</head>

	<body>
		<div class="wrapper">
			<div class="inner">
				<form action="">
					<h3>Login</h3>
					<div class="form-wrapper">
                        <label for="cpf">CPF</label>
                        <input type="text" id="cpf" class="form-control" maxlength="14">
                        <div id="error-message" class="error-message" style="display: none;"></div>
                    </div>
					<div class="form-wrapper">
						<label for="">Senha</label>
						<input type="password" class="form-control">
					</div>
					<button>Entrar</button>
				</form>
			</div>
		</div>
		<script>
            function validarCPF(cpf) {
        cpf = cpf.replace(/\D/g, '');
        if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) return false;
        var soma = 0;
        for (var i = 0; i < 9; i++) {
            soma += parseInt(cpf.charAt(i)) * (10 - i);
        }
        var resto = soma % 11;
        var digitoVerificador1 = resto < 2 ? 0 : 11 - resto;
        if (parseInt(cpf.charAt(9)) !== digitoVerificador1) return false;
        soma = 0;
        for (var i = 0; i < 10; i++) {
            soma += parseInt(cpf.charAt(i)) * (11 - i);
        }
        resto = soma % 11;
        var digitoVerificador2 = resto < 2 ? 0 : 11 - resto;
        return parseInt(cpf.charAt(10)) === digitoVerificador2;
    }

    document.getElementById('cpf').addEventListener('input', function (e) {
        var cpfInput = e.target.value;
        var isValid = validarCPF(cpfInput);
        if (isValid) {
            document.getElementById('error-message').style.display = 'none';
        } else {
            document.getElementById('error-message').innerText = 'CPF invÃ¡lido';
            document.getElementById('error-message').style.display = 'block';
        }
        var cpf = cpfInput.replace(/\D/g, '');
        cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
        cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
        cpf = cpf.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
        e.target.value = cpf;
    });
        </script>
	</body>
</html>